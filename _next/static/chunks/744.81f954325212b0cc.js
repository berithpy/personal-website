"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{7744:(e,t,r)=>{r.r(t),r.d(t,{built_for_browser:()=>K,default:()=>B});var n,o,a,c,i=r(7092),s=r(6118),u=r(2527),l=r(3596),p=r(9104),f=Symbol.for("apollo.hook.wrappers"),h=r(1384),y=r(2700),b=r(1223),d=r(8664);function v(e){var t;switch(e){case n.Query:t="Query";break;case n.Mutation:t="Mutation";break;case n.Subscription:t="Subscription"}return t}function g(e){o||(o=new y.A(b.v.parser||1e3));var t,r,a,c=o.get(e);if(c)return c;(0,h.V1)(!!e&&!!e.kind,70,e);for(var i=[],s=[],u=[],l=[],p=0,f=e.definitions;p<f.length;p++){var d=f[p];if("FragmentDefinition"===d.kind){i.push(d);continue}if("OperationDefinition"===d.kind)switch(d.operation){case"query":s.push(d);break;case"mutation":u.push(d);break;case"subscription":l.push(d)}}(0,h.V1)(!i.length||s.length||u.length||l.length,71),(0,h.V1)(s.length+u.length+l.length<=1,72,e,s.length,l.length,u.length),r=s.length?n.Query:n.Mutation,s.length||u.length||(r=n.Subscription);var v=s.length?s:u.length?u:l;(0,h.V1)(1===v.length,73,e,v.length);var g=v[0];t=g.variableDefinitions||[];var k={name:g.name&&"Name"===g.name.kind?g.name.value:"data",type:r,variables:t};return o.set(e,k),k}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(n||(n={})),g.resetCache=function(){o=void 0},!1!==globalThis.__DEV__&&(0,d.D_)("parser",function(){return o?o.size:0});var k=r(8222),m=Symbol.for("apollo.skipToken");function _(e){return isNonEmptyArray(e.errors)?new ApolloError({graphQLErrors:e.errors}):e.error}function w(e){var t,r,o=e.client,a=e.query,c=e.options;return t=[o,c,a],(r=u.useRef(void 0)).current&&(0,k.L)(r.current.deps,t)||(r.current={value:function(){if(c===m)return{query:a,fetchPolicy:"standby"};var e,t,r,i,u,l,p,f,y,b,d,k=c.fetchPolicy||(null===(d=o.defaultOptions.watchQuery)||void 0===d?void 0:d.fetchPolicy)||"cache-first",_=(0,s.Cl)((0,s.Cl)({},c),{fetchPolicy:k,query:a,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0});if(!1!==globalThis.__DEV__){i=_.query,u=_.fetchPolicy,l=_.returnPartialData,p=n.Query,f=g(i),y=v(p),b=v(f.type),(0,h.V1)(f.type===p,74,y,y,b),void 0===(e=u)&&(e="cache-first"),(0,h.V1)(["cache-first","network-only","no-cache","cache-and-network"].includes(e),66,e),t=u,r=l,"no-cache"===t&&r&&!1!==globalThis.__DEV__&&h.V1.warn(67)}return c.skip&&(_.fetchPolicy="standby"),_}(),deps:t}),r.current.value}var q=r(7946);function C(e,t){var r=(0,i.m)(t.client),n=(0,l.B)(r),o=w({client:r,query:e,options:t}),a=o.fetchPolicy,c=o.variables,f=t.queryKey,h=u.useRef("standby"!==a);h.current||(h.current="standby"!==a);var y=(0,s.fX)([e,(0,q.M)(c)],[].concat(void 0===f?[]:f),!0),b=n.getQueryRef(y,function(){return r.watchQuery(o)}),d=u.useState((0,p.Qh)(b)),v=d[0],g=d[1];if((0,p.Fd)(v)!==b&&g((0,p.Qh)(b)),b.didChangeOptions(o)){var k=b.applyOptions(o);(0,p.CY)(v,k)}u.useEffect(function(){var e=setTimeout(function(){b.disposed&&n.add(y,b)});return function(){return clearTimeout(e)}});var m=u.useCallback(function(e){var t=b.fetchMore(e);return g((0,p.Qh)(b)),t},[b]),_=u.useCallback(function(e){var t=b.refetch(e);return g((0,p.Qh)(b)),t},[b]);return u.useEffect(function(){return b.softRetain()},[b]),[h.current?v:void 0,{fetchMore:m,refetch:_,subscribeToMore:b.observable.subscribeToMore}]}var M=r(5776),Q=r(5855),S=r(8038),x=r(7509),D=r(6179);r(5796);var P=r(9798),R=r(5067),T=r(4929),E=Symbol.for("apollo.tee.readableStreamController"),F=Symbol.for("apollo.read.readableStream"),V=class extends Q.C{constructor(){super((e,t)=>{let r=e.getContext()[E];if(r){let n=r(),o=()=>{try{n.close()}catch(e){}};return new S.c(r=>{let a=t(e).subscribe({next(e){n.enqueue({type:"next",value:e}),r.next(e)},error(e){n.enqueue({type:"error"}),o(),r.error(e)},complete(){n.enqueue({type:"completed"}),o(),r.complete()}});return()=>{o(),a.unsubscribe()}})}return t(e)})}},O=class extends Q.C{constructor(){super((e,t)=>{let r=e.getContext()[F];return r?new S.c(n=>{let o=!1,a=(()=>{try{return r.getReader()}catch(e){}})();if(!a){let r=t(e).subscribe(n);return()=>r.unsubscribe()}i(a);let c=()=>{o=!0,a.cancel()};return()=>c();async function i(r){let a;for(;!o&&!(null==a?void 0:a.done)&&(a=await r.read(),!o);)if(a.value)switch(a.value.type){case"next":n.next(a.value.value);break;case"completed":n.complete();break;case"error":{c();let r=t(e).subscribe(n);c=()=>r.unsubscribe()}}}}):t(e)})}},j={pkg:"@apollo/client-react-streaming"},A=Symbol.for("apollo.source_package");function L(e){return{...e,query:(0,P.J1)((0,R.y)((0,P.J1)(e.query)))}}(class extends x.D{constructor(e){super(e);let t=this.constructor.info;this[A]="".concat(t.pkg,":InMemoryCache")}}).info=j,Symbol.for("apollo.hook.wrappers"),(class extends D.R{setLink(e){super.setLink.call(this,Q.C.from([new O,new V,e]))}constructor(e){let t=[];"ssrMode"in e&&(delete e.ssrMode,t.push("The `ssrMode` option is not supported in %s. Please remove it from your %s constructor options.")),"ssrForceFetchDelay"in e&&(delete e.ssrForceFetchDelay,t.push("The `ssrForceFetchDelay` option is not supported in %s. Please remove it from your %s constructor options.")),super(e);let r=this.constructor.info;for(let e of(this[A]="".concat(r.pkg,":ApolloClient"),t))console.warn(e,r.pkg,"ApolloClient");(function(e,t,r){if(e[A]!=="".concat(t.pkg,":").concat(r))throw Error("When using `".concat(r,"` in streaming SSR, you must use the `").concat(r,'` export provided by `"').concat(t.pkg,'"`.'))})(this.cache,r,"InMemoryCache"),this.setLink(this.link)}}).info=j;var N=Symbol.for("apollo.dataTransport.skip"),$=new WeakMap;function B(e){let{queryRef:t,children:r}=e;return!function(e,t){let{$__apollo_queryRef:{options:r,stream:n,queryKey:o}}=e;if(!$.has(e)){let a=L(r),c=[a.query,(0,q.M)(a.variables),o];$.set(e,{cacheKey:c});let i=(0,l.B)(t).getQueryRef(c,()=>{var e;return t.watchQuery({...a,fetchPolicy:"network-only",context:Object.assign((e=n.pipeThrough(new T.Fq),Object.assign({...a.context,queryDeduplication:!0},{[F]:e})),{[N]:!0})})});Object.assign(e,(0,p.Qh)(i))}}(t,(0,i.m)()),!function(e,t){var r,n,o;void 0===t&&(t=Object.create(null)),((o=(n=(r=(0,i.m)("object"==typeof t?t.client:void 0).queryManager)&&r[f])&&n.useBackgroundQuery)?o(C):C)(e,t)}(...(0,M.useMemo)(()=>{let{query:e,...r}=L(t.$__apollo_queryRef.options);return[e,{...r,queryKey:t.$__apollo_queryRef.queryKey}]},[t.$__apollo_queryRef])),r}let K=!0}}]);